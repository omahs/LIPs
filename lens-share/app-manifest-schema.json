{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "appId": { "$ref": "#/definitions/AppIdSchema" },
    "name": { "type": "string", "minLength": 3, "maxLength": 36 },
    "description": { "type": "string", "minLength": 20, "maxLength": 200 },
    "icon": { "type": "string", "format": "uri" },
    "image": { "type": "string", "format": "uri" },
    "tags": {
      "type": "array",
      "uniqueItems": true,
      "items": { "$ref": "#/definitions/TagSchema" },
      "maxItems": 4
    },
    "routes": {
      "type": "object",
      "properties": {
        "home": { "type": "string", "format": "uri" },
        "profile": { "$ref": "#/definitions/ProfileUrlSchema" },
        "publication": { "$ref": "#/definitions/PublicationUrlSchema" }
      },
      "additionalProperties": false
    }
  },
  "required": ["appId", "name", "description", "icon", "routes"],
  "additionalProperties": false,
  "definitions": {
    "AppIdSchema": {
      "type": "string",
      "minLength": 3,
      "maxLength": 16,
      "pattern": "^[a-z][a-z0-9]+$"
    },
    "ProfileUrlSchema": {
      "type": "string",
      "format": "uri",
      "pattern": "\\:handle"
    },
    "PublicationUrlSchema": {
      "type": "string",
      "format": "uri",
      "pattern": "\\:id"
    },
    "TagSchema": {
      "type": "string",
      "enum": ["audio", "image", "text", "video"]
    }
  }
}
